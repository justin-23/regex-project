(this["webpackJsonpparser-fixed"]=this["webpackJsonpparser-fixed"]||[]).push([[0],{18:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),s=n(12),c=n.n(s),i=(n(18),n(2)),o=n(3),u=n(8),l=n(7),p=n(6),h=n(0),f=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"onchange",value:function(t){var e=t.target.value;this.props.onchange(e)}},{key:"render",value:function(){var t=this;return Object(h.jsx)("div",{className:"textarea_outer",children:Object(h.jsx)("textarea",{"data-gramm":"false",placeholder:this.props.placeholder,onChange:function(e){return t.onchange(e)}})})}}]),n}(r.a.Component),d=f,b=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=this.props,e=t.pattStr,n=t.testStr;return Object(h.jsxs)("tr",{className:"output_row",children:[Object(h.jsx)("td",{children:e?"/".concat(e,"/"):"(empty)"}),Object(h.jsx)("td",{children:n?'"'.concat(n,'"'):"(empty)"}),Object(h.jsx)("td",{className:"success_"+this.props.success,children:this.props.success?"Accept":"Reject"})]})}}]),n}(r.a.Component),j=b,O=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).state={propsList:[]},a.addToList=a.addToList.bind(Object(u.a)(a)),a.props.setAddToList(a.addToList),a}return Object(o.a)(n,[{key:"addToList",value:function(t){var e=this.state.propsList;e.unshift(t),this.setState({propsList:e})}},{key:"render",value:function(){return this.state.propsList.map((function(t){var e=t.pattStr,n=t.testStr,a=t.success;return Object(h.jsx)(j,{pattStr:e,testStr:n,success:a})}))}}]),n}(r.a.Component),v=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t){var a;Object(i.a)(this,n),a=e.call(this,t);var r=t.pattStr,s=t.testStr,c=t.success;return a.state={outputList:[{pattStr:r,testStr:s,success:c}],addToList:function(t){return 0}},a}return Object(o.a)(n,[{key:"addToList",value:function(t){return this.state.addToList(t)}},{key:"render",value:function(){var t=this,e=this.props,n=e.pattStr,a=e.testStr,r=e.success;return Object(h.jsxs)("table",{id:"displayTable",children:[Object(h.jsx)(j,{pattStr:n,testStr:a,success:r}),Object(h.jsx)(O,{setAddToList:function(e){t.setState({addToList:e}),t.props.setAddToList(e)}})]})}}]),n}(r.a.Component),S=n(4),y=n(13),g=n(5);Array.prototype.unique=function(){return Object(g.a)(new Set(this))},Array.prototype.deepReverse=function(){return this.reverse().map((function(t){return Array.isArray(t)?t.deepReverse():t}))},Object.prototype.complexmap=function(t){for(var e={},n=0,a=0,r=Object.entries(this);a<r.length;a++){var s=Object(y.a)(r[a],2),c=s[0],i=s[1];this.hasOwnProperty(c)&&(e[c]=t(i,c,n++))}return e};var m=function(t){function e(t){Object(i.a)(this,e),this.charList=[],this.charList=(t+e.EPSILON_CHAR).split("").filter((function(t){return!e.OPS.has(t)})).unique()}return Object(o.a)(e,[{key:"getCharList",value:function(){return this.charList.join("")}},{key:"debug",value:function(){console.log("Alphabet: '"+this.charList.join("', '")+"'")}},{key:t,value:function(){var t=this,e=0,n=this.charList.length;return{next:function(){return{done:n===e+1,value:t.charList[e++]}}}}},{key:"has",value:function(t){if(1!==t.length)throw new Error("chars can only be of length 1");return this.charList.indexOf(t)>=0}},{key:"getRowTemplate",value:function(){return Object.fromEntries(this.charList.map((function(t){return[t,[]]})))}},{key:"equals",value:function(t){return this.getCharList()===t.getCharList()}}],[{key:"union",value:function(t,n){return new e(t.getCharList()+n.getCharList())}}]),e}(Symbol.iterator);m.OPS=new Set("*()|~".split("")),m.EPSILON_CHAR="%",m.EMPTY=new m("",!1),m.EPSILON=new m("",!0);var L=function(){function t(e,n,a,r){Object(i.a)(this,t),this.sigma=e,this.delta=n,this.start=a,this.accept=r,this.size=void 0,this.size=this.delta.length}return Object(o.a)(t,[{key:"follow",value:function(t,e){var n=this;return t.map((function(t){return n.delta[t][e]||[]})).filter((function(t){return t&&t.length>0})).flat()}},{key:"fixEpsilonClosure",value:function(){for(var t=0;t<this.size;t++){for(var e=[],n=Object(g.a)(this.follow([t],m.EPSILON_CHAR)).unique();n.length!==e.length;)e=n,n=[].concat(Object(g.a)(e),Object(g.a)(this.follow(e,m.EPSILON_CHAR))).unique();this.delta[t][m.EPSILON_CHAR]=n}}},{key:"eval",value:function(t){for(var e,n=t.split(""),a=[this.start];;){e=[].concat(Object(g.a)(a),Object(g.a)(this.follow(a,m.EPSILON_CHAR)));var r=n.shift();if(void 0===r){a=e;break}e=this.follow(e,r),a=e}return this.accept.some((function(t){return a.indexOf(t)>-1}))}}],[{key:"CHAR",value:function(e){var n,a;return new t(new m(e),[(n={},Object(S.a)(n,e,[1]),Object(S.a)(n,m.EPSILON_CHAR,[]),n),(a={},Object(S.a)(a,e,[]),Object(S.a)(a,m.EPSILON_CHAR,[]),a)],0,[1])}},{key:"reindexDelta",value:function(t,e){return t.map((function(t){return t.complexmap((function(t,n){return t.map((function(t){return t+e}))}))}))}},{key:"copyDelta",value:function(e){return t.reindexDelta(e,0)}},{key:"prepareOperations",value:function(e,n){var a=m.union(e.sigma,n.sigma),r=a.getRowTemplate(),s=e.size,c=t.reindexDelta(n.delta,s);return{sigma:a,deltaRowTemplate:r,shiftSize:s,aDelta:t.reindexDelta(e.delta,0),bDelta:c}}},{key:"union",value:function(e,n){var a=t.prepareOperations(e,n),r=a.sigma,s=a.deltaRowTemplate,c=a.shiftSize,i=a.aDelta,o=a.bDelta,u=n.accept.map((function(t){return t+c})),l=Object(S.a)({},m.EPSILON_CHAR,[e.start,n.start+c]),p=[].concat(Object(g.a)(i),Object(g.a)(o),[l,{}]).map((function(t){return Object.assign({},s,t)}));[].concat(Object(g.a)(u),Object(g.a)(e.accept)).forEach((function(t){p[t][m.EPSILON_CHAR].push(e.size+n.size+1)}));var h=e.size+n.size;return new t(r,p,h,[e.size+n.size+1])}},{key:"concatenate",value:function(e,n){var a=t.prepareOperations(e,n),r=a.sigma,s=a.deltaRowTemplate,c=a.shiftSize,i=a.aDelta,o=a.bDelta,u=n.accept.map((function(t){return t+c})),l=n.start+c,p=[].concat(Object(g.a)(i),Object(g.a)(o)).map((function(t){return Object.assign({},s,t)}));return e.accept.forEach((function(t){p[t][m.EPSILON_CHAR].push(l)})),new t(r,p,e.start,u)}},{key:"star",value:function(e){var n=t.EMPTY(),a=t.prepareOperations(n,e),r=a.sigma,s=a.deltaRowTemplate,c=Object(S.a)({},m.EPSILON_CHAR,[e.start]),i=Object(S.a)({},m.EPSILON_CHAR,[e.start]),o=[].concat(Object(g.a)(e.delta),[c,i]).map((function(t){return Object.assign({},s,t)}));return e.accept.forEach((function(t){o[t][m.EPSILON_CHAR].push(e.size+1)})),new t(r,o,e.size,[0,e.size+1])}},{key:"maybe",value:function(e){return this.union(e,t.EPSILON())}},{key:"some",value:function(t){return this.concatenate(t,this.star(t))}}]),t}();L.EPSILON=function(){return new L(m.EPSILON,[Object(S.a)({},m.EPSILON_CHAR,[])],0,[0])},L.EMPTY=function(){return new L(m.EPSILON,[],-12345678,[])};var x,k=L.CHAR("a"),C=L.CHAR("b"),E=L.CHAR("c"),w=L.CHAR("d"),_=L.concatenate(k,C),A=L.concatenate(E,w),R=L.union(_,A),P=L.star(R);P.fixEpsilonClosure(),P.fixEpsilonClosure(),["","ab","cd","ac","bd","abc","abcda","ababcd","abcdcdcd"].forEach((function(t){console.log(t+", "+P.eval(t))}));var N=(x={},Object(S.a)(x,"|",{precd:1,astv:"left",arity:2}),Object(S.a)(x,"*",{precd:4,astv:"right",arity:1}),Object(S.a)(x,"&",{precd:2,astv:"right",arity:2}),Object(S.a)(x,"?",{precd:3,astv:"left",arity:1}),Object(S.a)(x,"+",{precd:3,astv:"left",arity:1}),x),T=function(t){var e,n=[],a=[],r=function(){return a[a.length-1]},s=function(t){var e=r();if(!e||"("===e)return!1;var n,a,s=(n=e,a=t,String.prototype.localeCompare.call(N[n].precd,""+N[a].precd));return 1===s||0===s&&"left"===N[t].astv},c=[],i=0,o=50;if(t.split("").forEach((function(t){if(o)switch(t){case"*":case"?":case"+":for(n.unshift("x");s(t)&&o--;)n.unshift(a.pop());c[i]=!0,n.unshift(t);break;case"|":for(;s(t)&&o--;)n.unshift(a.pop());c[i]=!1,a.push(t);break;case"(":a.push(t),i++,c[i]=!1;break;case")":for(;"("!==r()&&o--;)n.unshift(a.pop());i--,a.pop(),c[i]&&a.push("&"),c[i]=!0;break;default:n.unshift(t),c[i]&&a.push("&"),c[i]=!0}})),!o)return"";for(;e=a.pop();)n.unshift(e);return n.reverse().join("")},H=function t(e){if("string"==typeof e)return L.CHAR(e);switch(e.op){case"|":return L.union(t(e.els[0]),t(e.els[1]));case"*":return L.star(t(e.els[0]));case"?":return L.maybe(t(e.els[0]));case"+":return L.some(t(e.els[0]));case"&":return L.concatenate(t(e.els[0]),t(e.els[1]))}return L.CHAR("")},I=function(t){try{var e=T(t),n=function(t){var e=t.split(""),n=[],a=function(t){return Object.keys(N).indexOf(t)>=0};e.forEach((function(t){if(a(t)){var e={op:t,els:n.splice(-2)};n.push(e)}else n.push(t)}));var r=n[0];if("string"==typeof r&&r.length>1)throw new Error("tree parsed incorrectly");return r}(e),a=H(n);return console.log({fixed:e,tree:n,nfa:a}),a.fixEpsilonClosure(),a.eval.bind(a)}catch(r){return function(t){return!1}}},z=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{id:"intro",children:["String matcher by Justin Lee and Ben Chong",Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),"Supports standard ops '(', ')', '*', '|'",Object(h.jsx)("br",{}),"and additional ops '+' and '?'",Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),"Press Enter to keep a result"]})}}]),n}(r.a.Component),D=z,q=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).state={pattStr:"",testStr:"",addToList:function(t){return 0},success:!1,evalFunction:function(t){return!1}},a.on_patt_change=a.on_patt_change.bind(Object(u.a)(a)),a.on_test_change=a.on_test_change.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"on_patt_change",value:function(t){this.setState({pattStr:t});var e=I(t);this.setState({evalFunction:e},this.updateSuccessValue)}},{key:"on_test_change",value:function(t){this.setState({testStr:t},this.updateSuccessValue)}},{key:"updateSuccessValue",value:function(){this.setState({success:this.state.evalFunction(this.state.testStr)})}},{key:"onKeyDown",value:function(t){if(13===t.keyCode){t.preventDefault(),console.log(this.state.evalFunction);var e=this.state,n=e.pattStr,a=e.testStr,r=e.success;this.state.addToList({pattStr:n,testStr:a,success:r})}}},{key:"render",value:function(){var t=this;return Object(h.jsxs)("div",{id:"holder_outer",onKeyDown:function(e){return t.onKeyDown(e)},children:[Object(h.jsx)(D,{}),Object(h.jsxs)("div",{className:"holder",children:[Object(h.jsx)(d,{placeholder:"Enter regex here...",onchange:function(e){return t.on_patt_change(e)}}),Object(h.jsx)(d,{placeholder:"Enter test string here...",onchange:function(e){return t.on_test_change(e)}})]}),Object(h.jsx)("div",{className:"holder",children:Object(h.jsx)(v,{success:this.state.success,pattStr:this.state.pattStr,testStr:this.state.testStr,setAddToList:function(e){t.setState({addToList:e})}})})]})}}]),n}(r.a.Component);var F=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(q,{})})};c.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(F,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.fe38f2e9.chunk.js.map